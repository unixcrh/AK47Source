<?xml version="1.0"?>
<configuration>
  <configSections>
    <section name="authenticateDirSettings" type="MCS.Library.Passport.AuthenticateDirSettings, MCS.Library.Passport"/>
    <section name="userOUControlSettings" type="MCS.Web.WebControls.UserOUControlSettings, MCS.Library.SOA.Web.WebControls"/>
    <section name="schemaObjectUpdateActionSettings" type="MCS.Library.SOA.DataObjects.Schemas.Configuration.SchemaObjectUpdateActionSettings, MCS.Library.SOA.DataObjects.Schemas"/>
    <section name="deObjectOperationActionSettings" type="MCS.Library.SOA.DataObjects.Dynamics.Configuration.DEObjectOperationActionSettings, MCS.Library.SOA.DataObjects.Dynamics"/>
    <section name="propertyEditorSettings" type="MCS.Web.WebControls.PropertyEditorSettings, MCS.Library.SOA.Web.WebControls"/>
    <section name="propertyFormLayoutSettings" type="MCS.Library.SOA.DataObjects.PropertyFormLayoutSettings, MCS.Library.SOA.DataObjects"/>
    <section name="validatorSettings" type="MCS.Library.Core.ValidatorSettings, MCS.Library"/>
    <sectionGroup name="deluxe.web" type="MCS.Web.Library.DeluxeWebSectionGroup, MCS.Web.Library">
      <section name="jsonSerialization" type="System.Web.Configuration.ScriptingJsonSerializationSection, System.Web.Extensions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" requirePermission="false" allowDefinition="Everywhere"/>
    </sectionGroup>

    <section name="scriptJsonSerialization" type="System.Web.Configuration.ScriptingJsonSerializationSection, System.Web.Extensions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" requirePermission="false" allowDefinition="Everywhere"/>

    <section name="userRecentDataSettings" type="MCS.Library.SOA.DataObjects.UserRecentDataConfigurationSection, MCS.Library.SOA.DataObjects"/>
    <section name="CommonDataDbSetting" type="MCS.Library.SOA.DataObjects.Dynamics.ETL.Configuration.CommonDataDb,MCS.Library.SOA.DataObjects.Dynamics.ETL"/>
    <section name="pcServiceClientSettings" type="MCS.Library.SOA.DataObjects.Security.Client.PCServiceClientSettings, MCS.Library.SOA.DataObjects.Security.Client"/>
  </configSections>
  <pcServiceClientSettings useLocalCache="false" useServerCache="false" timeout="00:01:30">
    <paths>
      <add name="queryServiceAddress" uri="http://localhost/MCSWebApp/PermissionCenterServices/Services/PermissionCenterQueryService.asmx"/>
      <add name="updateServiceAddress" uri="http://localhost/MCSWebApp/PermissionCenterServices/Services/PermissionCenterUpdateService.asmx"/>
    </paths>
  </pcServiceClientSettings>
  <appSettings>
    <add key="enableSimulatedOperation" value="false"/>
    <add key="MCS.MetaConfiguration" value="%MCS2013ConfigDir%\MCS.ConfigMapping.config" />
    <add key="MiddLogCount" value="500"/>
    <add key="SqlCount" value="5000"/>
    <!--设置DE管理员,如果不设置则默认所有人都是管理员-->
    <!--<add key="DEAdmin" value="PC:NormalAdmin"/>-->
    <!--/**
    * 添加人员：朱俊峰
    * 添加时间：2014/12/23
    * **/-->
    <!--开关-->
    <add key="importUserToRole" value="true"/>
    <!--LDAP数据库-->
    <add key="LDAP_DBConnection" value="Data Source=10.30.47.146,2433;database=CNPC;User ID=sa;Password=1qaz2WSX;"/>
    <!--创建人员信息-->
    <add key="userid" value="abc296a8-27d2-4e36-b439-1935b48fc837"/>
    <add key="userDisplayName" value="admin"/>
    <!--一次抽取子表条件-->
    <add key="SapOnce" value="10"/>
    <!--板块数据库-->
    <add key="Sales" value="H"/>
    <!--<add key="人力资源板块" value="H" />
    <add key=" 销售ERP板块"  value="O" />
    <add key="炼油与化工板块" value="R" />
    <add key="勘探与生产板块" value="E" />
    <add key="总部板块" value="Z" />
    <add key="工程技术服务板块"  value="T" />
    <add key="装备制造板块" value="M" />
    <add key="海外业务板块"  value="B" />
    <add key="工程建设板块" value="N" />
    <add key="科研院所及其他板块" value="I" />-->
    <!--板块创建角色条件-->
    <add key="EP6806Li" value=""/>
    <!--<add key="天然气与管道板块" value=""/>
    <add key="人力资源板块" value="" />
    <add key=" 销售ERP板块"  value="" />
    <add key="炼油与化工板块" value="" />
    <add key="勘探与生产板块" value="" />
    <add key="总部板块" value="" />
    <add key="工程技术服务板块"  value="" />
    <add key="装备制造板块" value="" />
    <add key="海外业务板块"  value="" />
    <add key="工程建设板块" value="" />
    <add key="科研院所及其他板块" value="" />-->
    <!--Ldap服务器地址-->
    <add key="LdapServer" value="10.30.150.63:2389"/>
    <!--读取Ldap服务器的用户名-->
    <add key="LdapUserName" value="uid=eccadmin,cn=appadmins,cn=apps,DC=CNPC,DC=COM"/>
    <!--读取Ldap服务器的用户密码-->
    <add key="LdapUserPassword" value="szf)JqW5"/>
    <!--SqlServer数据库连接字符串-->
    <add key="DBConnenctionString" value="Data Source=192.168.10.10;database=CNPC;User ID=sa;Password=P@ssw0rd;"/>
    <!--Ldap服务器中的用户属性，以“|”分割，和SqlServer数据库表字段一 一对应-->
    <add key="UserAttributes" value="sn|mail|cn|cnpcorgid|cnpcorgpath|d1erpaccount|d2erpaccount|d3erpaccount|d4erpaccount|d5erpaccount|d6erpaccount|d7erpaccount|d8erpaccount|d9erpaccount|d10erpaccount|d11erpaccount|d12erpaccount|d13erpaccount|d14erpaccount|d15erpaccount|d16erpaccount|d17erpaccount|d18erpaccount|d19erpaccount|d20erpaccount"/>
    <!--Ldap服务器中的组织机构属性，以“|”分割，和SqlServer数据库表字段一 一对应-->
    <add key="OrgAttributes" value="CN|CNPCOrgNumber|ou|CNPCParOrgID"/>
    <!--应用注册-->
    <add key="ClientId" value="22222222-2222-2222-2222-222222222222"/>
    <add key="ClientSigningCertificatePath" value="C:\Cer\STS.pfx"/>
    <add key="ClientSigningCertificatePassword" value="pass@word1"/>
    <add key="IssuerId" value="11111111-1111-1111-1111-111111111111"/>
  </appSettings>
  <!--ETL公共数据目标表配置项-->
  <CommonDataDbSetting Schame="DE" TableName="ETL_CommonDataDictionary"/>
  <deluxe.web>
    <jsonSerialization maxJsonLength="4194304">
      <converters>
        <add name="DynamicEntityConvert" type="MCS.Library.SOA.DataObjects.Dynamics.Converters.DynamicEntityConvert, MCS.Library.SOA.DataObjects.Dynamics"/>
        <add name="DynamicEntityFieldConverter" type="MCS.Library.SOA.DataObjects.Dynamics.Converters.DynamicEntityFieldConverter, MCS.Library.SOA.DataObjects.Dynamics"/>
        <add name="DEEntityInstanceConverter" type="MCS.Library.SOA.DataObjects.Dynamics.Converters.DEEntityInstanceConverter, MCS.Library.SOA.DataObjects.Dynamics"/>
        <add name="EntityFieldValueConverter" type="MCS.Library.SOA.DataObjects.Dynamics.Converters.EntityFieldValueConverter, MCS.Library.SOA.DataObjects.Dynamics"/>
        <!--<add name="ETLEntityConvert" type="MCS.Library.SOA.DataObjects.Dynamics.ETL.Converters.ETLEntityConvert, MCS.Library.SOA.DataObjects.Dynamics.ETL"/>-->
        <!--<add name="ETLEntityFieldConvert" type="MCS.Library.SOA.DataObjects.Dynamics.ETL.Converters.ETLEntityFieldConvert, MCS.Library.SOA.DataObjects.Dynamics.ETL"></add>-->
      </converters>
    </jsonSerialization>
  </deluxe.web>
  <scriptJsonSerialization maxJsonLength="4194304">
    <converters>
      <add name="DynamicEntityConvert" type="MCS.Library.SOA.DataObjects.Dynamics.Converters.DynamicEntityConvert, MCS.Library.SOA.DataObjects.Dynamics"/>
      <add name="DynamicEntityFieldConverter" type="MCS.Library.SOA.DataObjects.Dynamics.Converters.DynamicEntityFieldConverter, MCS.Library.SOA.DataObjects.Dynamics"/>
      <add name="DEEntityInstanceConverter" type="MCS.Library.SOA.DataObjects.Dynamics.Converters.DEEntityInstanceConverter, MCS.Library.SOA.DataObjects.Dynamics"/>
      <add name="EntityFieldValueConverter" type="MCS.Library.SOA.DataObjects.Dynamics.Converters.EntityFieldValueConverter, MCS.Library.SOA.DataObjects.Dynamics"/>
    </converters>
  </scriptJsonSerialization>
  <!--
    For a description of web.config changes see http://go.microsoft.com/fwlink/?LinkId=235367.

    The following attributes can be set on the <httpRuntime> tag.
      <system.Web>
        <httpRuntime targetFramework="4.5.1" />
      </system.Web>
  -->
  <system.web>
    <sessionState mode="Off"/>
    <compilation debug="true" targetFramework="4.5.1"/>
    <pages controlRenderingCompatibilityVersion="4.0">
      <controls>
        <add tagPrefix="mcs" assembly="MCS.Web.WebControls" namespace="MCS.Web.WebControls"/>
        <add tagPrefix="soa" assembly="MCS.Library.SOA.Web.WebControls" namespace="MCS.Web.WebControls"/>
        <add tagPrefix="pc" src="~/inc/WebControls/Banner.ascx" tagName="Banner"/>
        <add tagPrefix="pc" assembly="MCS.Dynamics.Web" namespace="MCS.Dynamics.Web.WebControls"/>
        <add tagPrefix="pc" src="~/inc/WebControls/BannerIframe.ascx" tagName="IframeBanner"/>
      </controls>
    </pages>
    <webServices>
      <protocols>
        <add name="HttpPost"/>
        <add name="HttpGet"/>
      </protocols>
    </webServices>
    <httpRuntime requestValidationMode="2.0" maxRequestLength="10240"/>
  </system.web>
  <system.webServer>
    <modules>
      <add name="HttpEntryModule" type="MCS.Web.Library.HttpEntryModule, MCS.Web.Library"/>
    </modules>
  </system.webServer>
  <authenticateDirSettings defaultAnonymous="false">
    <authenticateDirs/>
    <anonymousDirs>
      <add location="~/Services"/>
    </anonymousDirs>
    <!--<typeFactories>
      <add name="pricipalBuilder" type="MCS.Library.Principal.DefaultPrincipalBuilder, MCS.Library.Passport"/>
    </typeFactories>-->
  </authenticateDirSettings>
  <schemaObjectUpdateActionSettings>
    <actions>
      <remove name="SCObjectSnapshotAction"/>
      <remove name="SCObjectUpdateStatusAction"/>
      <remove name="UserAndContainerSnapshotAction"/>
      <remove name="UserAndContainerSnapshotUpdateStatusAction"/>
      <!--我们自己的配置-->
      <add name="DEObjectSnapshotAction" operation="Update" type="MCS.Library.SOA.DataObjects.Dynamics.Actions.DEObjectSnapshotAction, MCS.Library.SOA.DataObjects.Dynamics"/>
      <add name="DEObjectUpdateStatusAction" operation="UpdateStatus" type="MCS.Library.SOA.DataObjects.Dynamics.Actions.DEObjectUpdateStatusAction, MCS.Library.SOA.DataObjects.Dynamics"/>
    </actions>
  </schemaObjectUpdateActionSettings>
  <deObjectOperationActionSettings>
    <actions>
      <add name="SCOperationSnapshotAction" type="MCS.Library.SOA.DataObjects.Dynamics.Actions.DEOperationSnapshotAction, MCS.Library.SOA.DataObjects.Dynamics"/>
    </actions>
  </deObjectOperationActionSettings>
  <propertyFormLayoutSettings>
    <layouts>
      <add name="DefalutLayout">
        <sections>
          <add name="section1" displayName="基本属性" columns="1"/>
        </sections>
      </add>
      <add name="ETLLayout">
        <sections>
          <add name="section1" displayName="基本属性" columns="1"/>
          <add name="section2" displayName="数据库连接属性" columns="2"/>
          <add name="section3" displayNmae="数据库性" columns="2"/>
        </sections>
      </add>
    </layouts>
  </propertyFormLayoutSettings>
  <propertyEditorSettings>
    <editors>
      <add name="standardPropertyEditor" type="MCS.Web.WebControls.StandardPropertyEditor, MCS.Library.SOA.Web.WebControls"/>
      <add name="booleanPropertyEditor" type="MCS.Web.WebControls.BooleanPropertyEditor, MCS.Library.SOA.Web.WebControls"/>
      <add name="enumPropertyEditor" type="MCS.Web.WebControls.EnumPropertyEditor, MCS.Library.SOA.Web.WebControls"/>
      <add name="objectPropertyEditor" type="MCS.Web.WebControls.ObjectPropertyEditor, MCS.Library.SOA.Web.WebControls"/>
      <add name="datePropertyEditor" type="MCS.Web.WebControls.DatePropertyEditor, MCS.Library.SOA.Web.WebControls"/>
      <add name="dateTimePropertyEditor" type="MCS.Web.WebControls.DateTimePropertyEditor, MCS.Library.SOA.Web.WebControls"/>
      <add name="ImageUploaderPropertyEditor" type="MCS.Web.WebControls.ImageUploaderPropertyEditor, MCS.Library.SOA.Web.WebControls"/>
    </editors>
  </propertyEditorSettings>
  <validatorSettings>
    <validators>
      <add name="StringEmptyValidator" type="MCS.Library.Validation.StringEmptyValidator, MCS.Library"/>
      <add name="StringLengthValidator" type="MCS.Library.Validation.StringLengthValidator, MCS.Library"/>
      <add name="RegexValidator" type="MCS.Library.Validation.RegexValidator, MCS.Library"/>
      <add name="ObjectNullValidator" type="MCS.Library.Validation.ObjectNullValidator, MCS.Library"/>
      <add name="RegexValidator" type="MCS.Library.Validation.RegexValidator, MCS.Library"/>
      <add name="IntegerRangeValidator" type="MCS.Library.Validation.IntegerRangeValidator, MCS.Library"/>
      <add name="DateTimeEmptyValidator" type="MCS.Library.Validation.DateTimeEmptyValidator, MCS.Library"/>
      <add name="DateTimeRangeValidator" type="MCS.Library.Validation.DateTimeRangeValidator, MCS.Library"/>
    </validators>
  </validatorSettings>
  <userRecentDataSettings>
    <categories>
      <add name="recentTimepoints" defaultRecentCount="10">
        <properties>
          <add name="timePoint" displayName="时间点" category="recentTimepoints" type="DateTime" defaultValue="9999-12-31"/>
          <add name="lastAccessDate" displayName="上次使用的时间" category="recentTimepoints" type="DateTime" defaultValue="9999-12-31"/>
          <add name="pinned" displayName="是否是固定的条目" category="recentTimepoints" type="Boolean" defaultValue="9999-12-31"/>
        </properties>
      </add>
      <add name="recentOrgs" defaultRecentCount="10">
        <properties>
          <add name="orgId" displayName="组织机构ID" category="recentOrgs" type="String" defaultValue=""/>
          <add name="timePoint" displayName="时间点" category="recentOrgs" type="DateTime" defaultValue="9999-12-31"/>
          <add name="lastAccessDate" displayName="上次使用的时间" category="recentOrgs" type="DateTime" defaultValue="9999-12-31"/>
          <add name="pinned" displayName="是否是固定的条目" category="recentOrgs" type="Boolean" defaultValue="9999-12-31"/>
        </properties>
      </add>
    </categories>
  </userRecentDataSettings>
  <system.serviceModel>
    <bindings>
      <basicHttpBinding>
        <binding name="SapUserCompareServiceSoap"/>
        <binding name="WebServiceConnectSAPSoap" closeTimeout="00:20:00" openTimeout="00:10:00" receiveTimeout="00:20:00" sendTimeout="00:20:00" maxBufferPoolSize="2147483647" maxReceivedMessageSize="2147483647"/>
        <binding name="PermissionCenterUpdateServiceSoap"/>
      </basicHttpBinding>
      <customBinding>
        <binding name="WebServiceConnectSAPSoap12">
          <textMessageEncoding messageVersion="Soap12"/>
          <httpTransport/>
        </binding>
        <binding name="SapUserCompareServiceSoap12">
          <textMessageEncoding messageVersion="Soap12"/>
          <httpTransport/>
        </binding>
      </customBinding>
    </bindings>
    <client>
      <endpoint address="http://localhost/MCSWebApp/PetroChina.UEP.Web/WebService/SapUserCompareService.asmx" binding="basicHttpBinding" bindingConfiguration="SapUserCompareServiceSoap" contract="SapUserCompare.SapUserCompareServiceSoap" name="SapUserCompareServiceSoap"/>
      <endpoint address="http://localhost/WebServiceConnectSAPWithBizTalk/WebServiceConnectSAP.asmx" binding="basicHttpBinding" bindingConfiguration="WebServiceConnectSAPSoap" contract="Saplocalhost.WebServiceConnectSAPSoap" name="WebServiceConnectSAPSoap"/>
      <endpoint address="http://localhost/MCSWebApp/PermissionCenterServices/Services/PermissionCenterUpdateService.asmx" binding="basicHttpBinding" bindingConfiguration="PermissionCenterUpdateServiceSoap" contract="PermissionUpdate.PermissionCenterUpdateServiceSoap" name="PermissionCenterUpdateServiceSoap"/>
    </client>
  </system.serviceModel>
</configuration>